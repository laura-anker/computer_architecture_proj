; ==========================================
; IPL DEMONSTRATION PROGRAM (5-bit addresses)
; Shows all addressing modes for LOAD/STORE
; ==========================================

LOC 10            ; Program starts at location 10

; -------- LOAD TESTS --------

LDR 0,0,20        ; Direct:   R0 <- M[20]
LDR 1,1,20        ; Indexed:  R1 <- M[20 + X1] (X1=1 → location 21)
LDR 2,0,25,1      ; Indirect: R2 <- M[ M[25] ] (points to 20)

; -------- STORE TESTS --------

STR 0,0,30        ; Direct store (R0 → M[30])
STR 1,1,30        ; Indexed store (R1 → M[31])

; -------- HALT --------

HLT                ; Stop execution

; ==========================================
; DATA SECTION
; ==========================================

LOC 20            ; Data values
Data 5            ; location 20
Data 12           ; location 21

LOC 25
Data 20           ; points to address 20 (for indirect LDR)

LOC 30
Data 0            ; result storage for STR
Data 0            ; result storage for STR indexed